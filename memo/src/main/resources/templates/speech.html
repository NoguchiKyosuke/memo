<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>éŸ³å£°è§£æã¨æ©Ÿæ¢°å­¦ç¿’ã®ç ”ç©¶ãƒ¡ãƒ¢</title>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script th:inline="none">
        /*<![CDATA[*/
            MathJax = {
                tex: {
                    inlineMath: [['$', '$'], ['\\(', '\\)']],
                    displayMath: [['$$', '$$'], ['\\[', '\\]']]
                }
            };
        /*]]>*/
            function copyCode(btn) {
                // ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸãƒœã‚¿ãƒ³ã®è¿‘ãã®ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‹ã‚‰ã‚³ãƒ”ãƒ¼ã™ã‚‹
                const button = btn || document.activeElement;
                let container = null;
                if (button && typeof button.closest === 'function') {
                    container = button.closest('div');
                }
                const candidate = container ? (container.querySelector('pre code') || container.querySelector('#pythonCode code') || container.querySelector('pre')) : null;
                const codeElement = candidate || document.querySelector('#pythonCode code') || document.querySelector('pre code') || document.querySelector('pre');
                const codeText = codeElement ? (codeElement.textContent || codeElement.innerText || '') : '';

                // ç¾ä»£çš„ãªã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰APIã‚’è©¦ã™
                if (navigator.clipboard && window.isSecureContext) {
                    navigator.clipboard.writeText(codeText).then(function() {
                        showCopySuccess(button);
                    }).catch(function(err) {
                        console.error('ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰APIã§ã‚³ãƒ”ãƒ¼ã«å¤±æ•—:', err);
                        fallbackCopyMethod(codeText, button);
                    });
                } else {
                    // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ–¹æ³•ã‚’ä½¿ç”¨
                    fallbackCopyMethod(codeText, button);
                }
            }

            function showCopySuccess(buttonEl) {
                const button = buttonEl || document.querySelector('button[onclick^="copyCode"]');
                if (!button) return;
                const originalText = button.getAttribute('data-original-text') || button.textContent;
                const originalBg = button.getAttribute('data-original-bg') || button.style.backgroundColor;

                // ä¿å­˜
                if (!button.getAttribute('data-original-text')) button.setAttribute('data-original-text', originalText);
                if (!button.getAttribute('data-original-bg')) button.setAttribute('data-original-bg', originalBg);

                button.textContent = 'ã‚³ãƒ”ãƒ¼å®Œäº†ï¼';
                button.style.backgroundColor = '#28a745';

                setTimeout(function() {
                    button.textContent = button.getAttribute('data-original-text');
                    button.style.backgroundColor = button.getAttribute('data-original-bg');
                }, 2000);
            }

            function fallbackCopyMethod(text, button) {
                // å¤ã„ãƒ–ãƒ©ã‚¦ã‚¶ç”¨ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ–¹æ³•
                const textArea = document.createElement('textarea');
                textArea.value = text;
                textArea.style.position = 'fixed';
                textArea.style.left = '-999999px';
                textArea.style.top = '-999999px';
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();

                try {
                    const successful = document.execCommand('copy');
                    if (successful) {
                        showCopySuccess(button);
                    } else {
                        showCopyError();
                    }
                } catch (err) {
                    console.error('ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ–¹æ³•ã§ã‚³ãƒ”ãƒ¼ã«å¤±æ•—:', err);
                    showCopyError();
                } finally {
                    document.body.removeChild(textArea);
                }
            }

            function showCopyError() {
                alert('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚\\n\\næ‰‹å‹•ã§ã‚³ãƒ¼ãƒ‰ã‚’é¸æŠã—ã¦ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„ï¼š\\n1. ã‚³ãƒ¼ãƒ‰ã‚¨ãƒªã‚¢ã‚’ã‚¯ãƒªãƒƒã‚¯\\n2. Ctrl+Aï¼ˆå…¨é¸æŠï¼‰\\n3. Ctrl+Cï¼ˆã‚³ãƒ”ãƒ¼ï¼‰');
            }

            // ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’æŠ˜ã‚ŠãŸãŸã‚€ãƒœã‚¿ãƒ³ã‚’å‹•çš„ã«è¿½åŠ 
            function addToggleButtons() {
                // å®Ÿè³ªçš„ã«ãƒšãƒ¼ã‚¸å†…ã®pre#pythonCodeã‚’å¯¾è±¡ã€‚é‡è¤‡IDã ãŒquerySelectorAllã§å…¨å–å¾—å¯
                const targets = document.querySelectorAll('pre#pythonCode');
                targets.forEach(function(pre) {
                    const container = pre.parentElement;
                    if (!container) return;
                    // æ—¢ã«ãƒœã‚¿ãƒ³ãŒã‚ã‚‹å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—
                    if (container.querySelector('.toggle-button')) return;

                    const btn = document.createElement('button');
                    btn.type = 'button';
                    btn.className = 'toggle-button';
                    btn.textContent = pre.classList.contains('collapsed') ? 'å±•é–‹' : 'æŠ˜ã‚ŠãŸãŸã‚€';
                    btn.addEventListener('click', function() {
                        const collapsed = pre.classList.toggle('collapsed');
                        // ç›´å‰ã«ã‚ã‚‹Markdownãƒ†ãƒ¼ãƒ–ãƒ«ã‚‚åŒæ™‚ã«ãƒˆã‚°ãƒ«
                        const tableWrap = container.previousElementSibling;
                        if (tableWrap && tableWrap.classList && tableWrap.classList.contains('md-table-wrap')) {
                            if (collapsed) {
                                tableWrap.classList.add('collapsed');
                            } else {
                                tableWrap.classList.remove('collapsed');
                            }
                        }
                        btn.textContent = collapsed ? 'å±•é–‹' : 'æŠ˜ã‚ŠãŸãŸã‚€';
                    });
                    container.appendChild(btn);
                });
            }

            // æœ€åˆã¯ã™ã¹ã¦æŠ˜ã‚ŠãŸãŸã¿çŠ¶æ…‹ã«ã™ã‚‹
            function collapseAllCodeBlocks() {
                document.querySelectorAll('pre#pythonCode').forEach(function(pre) {
                    pre.classList.add('collapsed');
                    const container = pre.parentElement;
                    if (container) {
                        const tableWrap = container.previousElementSibling;
                        if (tableWrap && tableWrap.classList && tableWrap.classList.contains('md-table-wrap')) {
                            tableWrap.classList.add('collapsed');
                        }
                    }
                });
            }

            // ã™ã¹ã¦ã®ã‚³ãƒ”ãƒ¼ç”¨ãƒœã‚¿ãƒ³ã‚’è¿‘å‚ã‚³ãƒ”ãƒ¼å‹•ä½œã«å·®ã—æ›¿ãˆã‚‹
            function wireCopyButtons() {
                document.querySelectorAll('button[onclick^="copyCode"]').forEach(function(btn) {
                    btn.onclick = function(e) {
                        e.preventDefault();
                        copyCode(btn);
                    };
                });
            }

            // Markdownãƒ†ãƒ¼ãƒ–ãƒ«è‡ªä½“ã«ã‚‚ãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³ã‚’ä»˜ä¸
            function addTableToggleButtons() {
                document.querySelectorAll('.md-table-wrap').forEach(function(wrap) {
                    if (wrap.querySelector('.table-toggle-button')) return;
                    const btn = document.createElement('button');
                    btn.type = 'button';
                    btn.className = 'table-toggle-button';
                    btn.textContent = wrap.classList.contains('collapsed') ? 'å±•é–‹' : 'æŠ˜ã‚ŠãŸãŸã‚€';
                    btn.addEventListener('click', function() {
                        const collapsed = wrap.classList.toggle('collapsed');
                        // å¾Œç¶šã®ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚‚åŒæœŸ
                        const container = wrap.nextElementSibling;
                        if (container) {
                            const pre = container.querySelector('pre#pythonCode');
                            if (pre) {
                                if (collapsed) pre.classList.add('collapsed'); else pre.classList.remove('collapsed');
                            }
                            const codeBtn = container.querySelector('.toggle-button');
                            if (codeBtn) codeBtn.textContent = collapsed ? 'å±•é–‹' : 'æŠ˜ã‚ŠãŸãŸã‚€';
                        }
                        btn.textContent = collapsed ? 'å±•é–‹' : 'æŠ˜ã‚ŠãŸãŸã‚€';
                    });
                    wrap.appendChild(btn);
                });
            }

            // åˆæœŸåŒ–
            document.addEventListener('DOMContentLoaded', function() {
                collapseAllCodeBlocks();
                addToggleButtons();
                addTableToggleButtons();
                wireCopyButtons();
            });
        /*]]>*/
        </script>
        <style>
            html{-webkit-text-size-adjust:100%;}
            body{font-family:system-ui,Helvetica,Arial,sans-serif;line-height:1.6;margin:2rem auto;max-width:900px;padding:0 .75rem;word-break:break-word;}
            h1{margin:.2rem 0 1rem;font-size:2rem;color:#222;}
            h2{margin-top:1.8rem;font-size:1.3rem;border-bottom:2px solid #ddd;padding-bottom:.25rem;}
            h3{margin-top:1.1rem;font-size:1.1rem;}
            ul{padding-left:1.3rem;}
            a{color:#036;text-decoration:none;}
            a:hover{text-decoration:underline;}
            @media (max-width:640px){
                body{margin:1.2rem auto;padding:0 .9rem;}
                h1{font-size:1.7rem;}
                h2{font-size:1.2rem;}
                h3{font-size:1.02rem;}
            }
            #pythonCode {
                background-color: #f8f9fa;
                padding: 1rem;
                border-radius: 8px;
                border-left: 4px solid #036;
                overflow-x: auto;
                font-size: 0.9rem;
                line-height: 1.4;
                margin: 1.5rem 0;
            }
            #copyButton {
                position: absolute;
                top: 10px;
                right: 10px;
                padding: 0.5rem 1rem; 
                background-color: #036; 
                color: white; 
                border: none; 
                border-radius: 4px; 
                cursor: pointer; 
                font-size: 0.9rem; 
                z-index: 1;
            }
            .toggle-button {
                position: absolute;
                top: 10px;
                left: 10px; /* å·¦ä¸Šã«é…ç½®ã—ã¦é‡ãªã‚Šã‚’å›é¿ */
                padding: 0.5rem 1rem;
                background-color: #666;
                color: #fff;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                font-size: 0.9rem;
                z-index: 1;
            }
            /* ã‚³ãƒ¼ãƒ‰ã‚³ãƒ³ãƒ†ãƒŠã¯ç›¸å¯¾é…ç½®ã«ã—ã¦ãƒœã‚¿ãƒ³ä½ç½®ã‚’å®‰å®šåŒ– */
            div[style*="position: relative"] {
                position: relative !important;
            }
            /* æŠ˜ã‚ŠãŸãŸã¿æ™‚ã¯æœ€åˆã®3è¡Œã ã‘è¦‹ãˆã‚‹ã‚ˆã†ã«é«˜ã•ã‚’åˆ¶é™ */
            pre#pythonCode.collapsed {
                max-height: calc(1.4em * 3 + 1.2rem); /* 3è¡Œ + ä¸Šä¸‹ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ç›¸å½“ */
                overflow: hidden;
                position: relative;
            }
            pre#pythonCode.collapsed::after {
                content: '';
                position: absolute;
                left: 0;
                right: 0;
                bottom: 0;
                height: 2.5rem;
                background: linear-gradient(to bottom, rgba(248,249,250,0), rgba(248,249,250,1));
            }
            
            /* å‹•çš„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
            .research-section {
                margin: 2rem 0;
                padding: 1.5rem;
                background-color: #f9f9f9;
                border-radius: 8px;
                border-left: 4px solid #036;
            }
            
            .research-item {
                margin: 1rem 0;
                padding: 1rem;
                background-color: white;
                border-radius: 6px;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            
            .research-item h3 {
                color: #036;
                margin-top: 0;
            }
            /* Markdown table styling */
            .md-table-wrap { overflow-x: auto; margin: 0.5rem 0 1rem; }
            .md-table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
            .md-table th, .md-table td { border: 1px solid #ddd; padding: .5rem .6rem; vertical-align: top; }
            .md-table thead th { background: #f1f3f5; text-align: left; }
            .md-table tbody tr:nth-child(odd) { background: #fafbfc; }
            .md-table tbody tr:hover { background: #f6f8fa; }
            /* æŠ˜ã‚ŠãŸãŸã¿æ™‚ã¯æœ€åˆã®3è¡Œã ã‘è¡¨ç¤ºï¼ˆtheadã¯å¸¸ã«è¡¨ç¤ºï¼‰ */
            .md-table-wrap.collapsed { position: relative; display: block; }
            .md-table-wrap.collapsed tbody tr { display: none; }
            .md-table-wrap.collapsed tbody tr:nth-child(-n+3) { display: table-row; }
            .md-table-wrap.collapsed::after {
                content: '';
                position: absolute;
                left: 0; right: 0; bottom: 0;
                height: 2.5rem;
                background: linear-gradient(to bottom, rgba(255,255,255,0), #fff);
            }
            .md-table-wrap { position: relative; }
            .table-toggle-button {
                position: absolute;
                top: 8px;
                right: 8px;
                padding: 0.35rem 0.7rem;
                background-color: #666;
                color: #fff;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                font-size: 0.85rem;
                z-index: 1;
            }
        </style>
</head>
<body>
    <h1>éŸ³å£°è§£æã¨æ©Ÿæ¢°å­¦ç¿’ã®ç ”ç©¶ãƒ¡ãƒ¢ <span th:text="'(' + ${#dates.format(lastUpdated, 'yyyyå¹´MMæœˆddæ—¥æ›´æ–°')} + ')'" class="update-info">(å‹•çš„æ›´æ–°)</span></h1>

    <h2>2025/9/9</h2>
    <h3>ã‚¢ã‚¤ãƒŒèªã®å‹‰å¼·</h3>
    <h4>z-scoreã¨ã¯</h4>
    <p>z-scoreã¯æ¨™æº–å¾—ç‚¹ã®ã“ã¨ã€‚åˆ¥å"standard score"ã¨ã‚‚è¨€ã†ã€‚</p>
    <p>z-scoreã®å¼ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¡¨ã•ã‚Œã‚‹ã€‚</p>
    <div style="text-align: center; margin: 1.5rem 0;">
        $$z = \frac{X - \mu}{\sigma}$$
    </div>
    <p>ã“ã“ã§ã€$X$ã¯å„ãƒ‡ãƒ¼ã‚¿ã®å€¤ã€$\mu$ã¯å¹³å‡ã€$\sigma$ã¯æ¨™æº–åå·®ã‚’è¡¨ã™ã€‚</p>
    <p>z-scoreãŒ0ã®éš›ã¯<br/>
        ãƒ‡ãƒ¼ã‚¿ã®å€¤ãŒå¹³å‡ã¨ç­‰ã—ã„ã€‚<br/>
        æ­£ã®å€¤ã®éš›ã¯ãƒ‡ãƒ¼ã‚¿ã®å€¤ãŒå¹³å‡ã‚ˆã‚Šã‚‚é«˜ã„ã€‚<br/>
        è² ã®å€¤ã®éš›ã¯ãƒ‡ãƒ¼ã‚¿ã®å€¤ãŒå¹³å‡ã‚ˆã‚Šã‚‚ä½ã„ã€‚</p>
    <p>z-scoreã®çµ¶å¯¾å€¤ã¯æ¨™æº–åå·®ã¨ç­‰ã—ããªã‚‹ã€‚</p>
    <p>æ­£è¦åˆ†å¸ƒã®ã†ã¡ã€<br/>
        68%ã®ãƒ‡ãƒ¼ã‚¿ã¯z-scoreãŒ$-1$ã‹ã‚‰$1$ã®ç¯„å›²ã«åã¾ã‚Šã€<br/>
        95%ã®ãƒ‡ãƒ¼ã‚¿ã¯z-scoreãŒ$-2$ã‹ã‚‰$2$ã®ç¯„å›²ã«åã¾ã‚Šã€<br/>
        99.7%ã®ãƒ‡ãƒ¼ã‚¿ã¯z-scoreãŒ$-3$ã‹ã‚‰$3$ã®ç¯„å›²ã«åã¾ã‚‹ã€‚</p>
    <h3>Webãƒšãƒ¼ã‚¸ã®éŸ³å£°ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒæ¥½ã ã£ãŸæ–¹æ³•</h3>
    <p>ç”ŸæˆAIã«Webã®éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸€æ‹¬ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹Pythonãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ã‚‚ã‚‰ã†ã®ãŒä¸€ç•ªæ—©ã„ã€‚</p>
    <p>ä»Šå›ã¯<a href="https://www.aa.tufs.ac.jp/~mmine/kiki_gen/murasaki/">ã€æµ…äº•ã‚¿ã‚±æ˜”è©±å…¨é›† I, IIã€ ï¼ˆæ‘å´æ­å­ ç·¨è¨³ï¼‰</a>ã®éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸€æ‹¬ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã€‚ã“ã®ã¨ãã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ç”¨ã®Pythonã‚³ãƒ¼ãƒ‰ã‚’ä»¥ä¸‹ã«ç¤ºã™ã€‚</p>
    
    <div style="position: relative; margin: 1.5rem 0;">
        <button id="copyButton" onclick="copyCode()">ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼</button>
        <pre id="pythonCode"><code>
            #!/usr/bin/env python3
            """
            æµ…äº•ã‚¿ã‚±æ˜”è©±é›†ã‹ã‚‰ã™ã¹ã¦ã®éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹
            https://www.aa.tufs.ac.jp/~mmine/kiki_gen/murasaki/asai01.html
            """
                    
            import requests
            from bs4 import BeautifulSoup
            import re
            from urllib.parse import urljoin
            import os
            import time
            from pathlib import Path
            import json
            from tqdm import tqdm
                    
            def download_asai_collection():
                # ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ç”¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆ
                base_dir = Path('data/samples')
                asai_dir = base_dir / 'asai_take_stories'
                asai_dir.mkdir(exist_ok=True)
                    
                # ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰çŠ¶æ³ã‚’è¨˜éŒ²ã™ã‚‹ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
                metadata_file = asai_dir / 'metadata.json'
                metadata = {
                    'collection': 'Asai Take Folktale Collection',
                    'source': 'https://www.aa.tufs.ac.jp/~mmine/kiki_gen/murasaki/asai01.html',
                    'stories': {}
                }
                
                # ç‰©èªã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ™ãƒ¼ã‚¹URL
                base_url = 'https://www.aa.tufs.ac.jp/~mmine/kiki_gen/murasaki/'
                
                print('æµ…äº•ã‚¿ã‚±éŸ³å£°ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³å…¨ä½“ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹ã—ã¾ã™...')
                print(f'ä¿å­˜å…ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: {asai_dir}')
                
                # ã™ã¹ã¦ã®ç‰©èªãƒšãƒ¼ã‚¸ã®URLã‚’ç”Ÿæˆï¼ˆAt01ã‹ã‚‰At54ã¾ã§ï¼‰
                story_urls = []
                for i in range(1, 55):  # 1ã‹ã‚‰54ã¾ã§
                    story_url = f'{base_url}at{i:02d}aj.html'
                    story_urls.append((i, story_url))
                
                print(f'å‡¦ç†å¯¾è±¡ã®ç‰©èªãƒšãƒ¼ã‚¸æ•°: {len(story_urls)}')
                
                total_downloaded = 0
                total_audio_files = 0
                
                # ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ä»˜ãã§ã™ã¹ã¦ã®ç‰©èªã‚’å‡¦ç†
                for story_num, story_url in tqdm(story_urls, desc="ç‰©èªã‚’å‡¦ç†ä¸­"):
                    story_id = f"At{story_num:02d}"
                    print(f'\\n{story_id}ã‚’å‡¦ç†ä¸­: {story_url}')
                    
                    try:
                        response = requests.get(story_url, timeout=30)
                        response.raise_for_status()
                        soup = BeautifulSoup(response.content, 'html.parser')
                        
                        # ã“ã®ãƒšãƒ¼ã‚¸å†…ã®éŸ³å£°ãƒªãƒ³ã‚¯ã‚’æ¤œç´¢
                        audio_links = []
                        for link in soup.find_all('a', href=True):
                            href = link['href']
                            if any(ext in href.lower() for ext in ['.wav', '.mp3', '.au', '.aiff']):
                                full_url = urljoin(story_url, href)
                                audio_links.append(full_url)
                        
                        print(f'  ç™ºè¦‹ã—ãŸéŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«æ•°: {len(audio_links)}')
                        total_audio_files += len(audio_links)
                        
                        # ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ä»˜ãã§å„éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
                        story_downloaded = 0
                        for i, audio_url in enumerate(tqdm(audio_links, desc=f"  {story_id} éŸ³å£°", leave=False)):
                            filename = f'{story_id}_{i+1:03d}.wav'
                            filepath = asai_dir / filename
                            
                            # æ—¢ã«å­˜åœ¨ã™ã‚‹å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—
                            if filepath.exists():
                                print(f'    âš¡ ã‚¹ã‚­ãƒƒãƒ—ï¼ˆæ—¢å­˜ï¼‰: {filename}')
                                story_downloaded += 1
                                continue
                            
                            try:
                                audio_response = requests.get(audio_url, timeout=30)
                                audio_response.raise_for_status()
                                
                                with open(filepath, 'wb') as f:
                                    f.write(audio_response.content)
                                
                                story_downloaded += 1
                                print(f'    âœ“ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å®Œäº†: {filename} ({len(audio_response.content)} ãƒã‚¤ãƒˆ)')
                                
                            except Exception as e:
                                print(f'    âœ— ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¤±æ•— {audio_url}: {e}')
                            
                            time.sleep(0.3)  # ã‚µãƒ¼ãƒãƒ¼ã«é…æ…®ã—ãŸå¾…æ©Ÿæ™‚é–“
                        
                        total_downloaded += story_downloaded
                        
                        # ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°
                        metadata['stories'][story_id] = {
                            'url': story_url,
                            'audio_files_found': len(audio_links),
                            'audio_files_downloaded': story_downloaded,
                            'title': f'ç‰©èª {story_num}'  # å®Ÿéš›ã®ã‚¿ã‚¤ãƒˆãƒ«ã§ã•ã‚‰ã«æ”¹å–„å¯èƒ½
                        }
                        
                        print(f'  âœ“ {story_id}: {story_downloaded}/{len(audio_links)} ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰')
                        
                    except Exception as e:
                        print(f'  âœ— {story_url}ã®å‡¦ç†ä¸­ã«ã‚¨ãƒ©ãƒ¼: {e}')
                        metadata['stories'][story_id] = {
                            'url': story_url,
                            'error': str(e)
                        }
                    
                    # å®šæœŸçš„ã«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜
                    if story_num % 5 == 0:
                        with open(metadata_file, 'w', encoding='utf-8') as f:
                            json.dump(metadata, f, indent=2, ensure_ascii=False)
                    
                # æœ€çµ‚çš„ãªãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä¿å­˜
                metadata['total_stories'] = len(story_urls)
                metadata['total_audio_files_found'] = total_audio_files
                metadata['total_audio_files_downloaded'] = total_downloaded
                    
                with open(metadata_file, 'w', encoding='utf-8') as f:
                    json.dump(metadata, f, indent=2, ensure_ascii=False)
                    
                print(f'\\nğŸ‰ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å®Œäº†ï¼')
                print(f'ğŸ“Š çµ±è¨ˆæƒ…å ±:')
                print(f'   å‡¦ç†ã—ãŸç‰©èªæ•°: {len(story_urls)}')
                print(f'   ç™ºè¦‹ã—ãŸéŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ç·æ•°: {total_audio_files}')
                print(f'   ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æˆåŠŸæ•°: {total_downloaded}')
                print(f'   ä¿å­˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: {asai_dir}')
                print(f'   ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä¿å­˜å…ˆ: {metadata_file}')
                    
                return asai_dir, total_downloaded, total_audio_files
                    
            if __name__ == '__main__':
                download_asai_collection()
        </code></pre>
    </div>
    
  <div th:replace="~{fragments/ad :: adBanner}"></div>

    <h2>2025/09/11</h2>
    <h3>ã‚¢ã‚¤ãƒŒèªã®ã‚µã‚¤ãƒˆ</h3>
    <h4>éŸ³å£°ã¾ã¨ã‚ã‚µã‚¤ãƒˆ</h4>
    <a href="https://akitaben.com/category19/entry238.html">ç„¡æ–™ã§ä½¿ãˆã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆä¸Šã®ã‚¢ã‚¤ãƒŒèªè³‡æ–™ãƒ»ã‚¢ã‚¤ãƒŒèªæ•™æã®ã”ç´¹ä»‹(ã‚¢ã‚¤ãƒŒèªã‚’å‹‰å¼·ãƒ»å­¦ç¿’ã—ãŸã„äººã®ãŸã‚ã«)</a>
    <h4>ã‚¢ã‚¤ãƒŒèªè¾æ›¸</h4>
    <a href="https://www.ff-ainu.or.jp/teach/files/saru_tango.pdf">ã‚¢ã‚¤ãƒŒèªè¾æ›¸</a>

    <h3>Pythonã®å‹‰å¼·</h3>
    <h4>suffix.lower()ã®ä½¿ã„æ–¹</h4>
    <p>ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã«ãŠã‘ã‚‹"suffix.lower()"ã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã‚’æ ¼ç´ã—ã¦ã„ã‚‹"p"ã®æ‹¡å¼µå­ãŒ"AUDIO_EXTS"ãƒ•ã‚¡ã‚¤ãƒ«ã«å«ã¾ã‚Œã¦ã„ã‚‹ã‹ã‚’åˆ¤å®šã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã€‚</p>
    <div style="position: relative; margin: 1.5rem 0;">
        <button id="copyButton" onclick="copyCode()">ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼</button>
        <pre id="pythonCode"><code>
            def list_audio_files(folder: Path) -> List[Path]:
            # AUDIO_EXTSã«ã¯éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã®æ‹¡å¼µå­ãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ã€‚
            return [p for p in folder.rglob('*') if p.suffix.lower() in AUDIO_EXTS]
        </code></pre>
    </div>
    <h4>audio_urilsã®trim_silenceã«ã¤ã„ã¦</h4>
    <p>ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã®ã‚ˆã†ã«"trim_silence"ã¯"top_db"ã§æŒ‡å®šã—ãŸãƒ‡ã‚·ãƒ™ãƒ«ä»¥ä¸‹ã®éŸ³å£°ã‚’ã‚«ãƒƒãƒˆã™ã‚‹é–¢æ•°ã§ã‚ã‚‹ã€‚ã¾ãŸã€0.01ç§’ã®é–“éš”ã§ã‚«ãƒƒãƒˆã‚’è¡Œã†ãŸã‚ã€0.01ç§’ä»¥ä¸Šã®ç„¡éŸ³éƒ¨åˆ†ã‚’ã‚«ãƒƒãƒˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚</p>
    <div style="position: relative; margin: 1.5rem 0;">
        <button id="copyButton" onclick="copyCode()">ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼</button>
        <pre id="pythonCode"><code>
            TRIM_DB = 30.0
            trimmed_audio = trim_silence(rec_audio, top_db=TRIM_DB)
        </code></pre>
    </div>

    <h4>notebookã®è¨˜è¿°ã®ã‚³ãƒ„</h4>
    <p>notebookã®ã‚»ãƒ«ã‚’ã¾ãŸãéš›ã«ã€ä¸€ã¤å‰ã®ã‚»ãƒ«ã®æœ€åˆã§å¤‰æ›´ã™ã‚‹äºˆå®šã®å¤‰æ•°ã‚’ã‚¼ãƒ­ãƒªã‚»ãƒƒãƒˆã™ã‚‹ã“ã¨ã§ã€æ¬¡ã®ã‚»ãƒ«ã®æœ€åˆã«æ¡ä»¶åˆ†å²ã«ã‚ˆã£ã¦ä¸€ã¤å‰ã®ã‚»ãƒ«ãŒå®Ÿè¡Œã•ã‚ŒãŸã‹ã‚’åˆ¤å®šã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚</p>

      <div th:replace="~{fragments/ad :: adBanner}"></div>

    <h2>2025/09/12</h2>
    <h3>DTWã¨ã¯</h3>
    <p>DTW(Dynamic Time Warping)ã¯ã€2ã¤ã®æ™‚é–“è»¸ã®ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®é¡ä¼¼åº¦ã‚’å›³ã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã‚ã‚‹ã€‚ã“ã®ã¨ãã€2ã¤ã®ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã¯æ™‚é–“ãŒä¸€è‡´ã™ã‚‹å¿…è¦ãŒãªã„ã€‚</br>
    éŸ³å£°ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®ã‚°ãƒªãƒƒãƒ‰ã®è·é›¢ãŒæœ€çŸ­ã«ãªã‚‹ã‚ˆã†ã«é€Ÿã•ã‚’ã‚¹ãƒˆãƒ¬ãƒƒãƒã™ã‚‹ã“ã¨ã§ã€ç•°ãªã‚‹é€Ÿåº¦ã§è©±ã•ã‚Œã‚‹éŸ³å£°ã‚’æ¯”è¼ƒã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚</p>

    <h3>MFAã¨ã¯</h3>
    <p>éŸ³ç´ èªè­˜æŠ€è¡“ã®ä¸€ã¤ã§ã‚ã‚‹ã€‚éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ†ã‚­ã‚¹ãƒˆã®å¯¾å¿œé–¢ä¿‚ã‚’å­¦ç¿’ã—ã€æ–°ãŸãªéŸ³å£°ãƒ‡ãƒ¼ã‚¿ã«å¯¾ã—ã¦éŸ³ç´ ã®ãƒ©ãƒ™ãƒªãƒ³ã‚°ã‚’è¡Œã†ã€‚</p>

    <h3>Pythonã®å‹‰å¼·</h3>
    <h4>tqdmã¨ã¯</h4>
    <p>tqdmã¨ã¯ã€notebookãªã©ã§ãƒ‡ãƒ¼ã‚¿ã®å‡¦ç†ã®éš›ã«è¦–è¦šçš„ã«ã‚ã‹ã‚Šã‚„ã™ã„ãƒ‡ã‚¶ã‚¤ãƒ³ã«ã—ã¦ãã‚Œã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã‚ã‚‹ã€‚</p>
    <div style="position: relative; margin: 1.5rem 0;">
        <button id="copyButton" onclick="copyCode()">ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼</button>
        <pre id="pythonCode"><code>
            TDTW scoring: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2815/2815 [00:11<00:00, 243.06it/s]
        </code></pre>
    </div>

      <div th:replace="~{fragments/ad :: adBanner}"></div>


    <h2>2025/09/25</h2>
    <h3>Pythonã®å‹‰å¼·</h3>
    <h4>librosa.feature.mfccã®å¼•æ•°ã«ã¤ã„ã¦</h4>
    <p>
        y: éŸ³å£°ãƒ‡ãƒ¼ã‚¿ãã®ã‚‚ã®<br/>
        sr: ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°å‘¨æ³¢æ•°<br/>
        n_mfcc: mfccã®æ¬¡å…ƒæ•°
    </p>

    <h3>GMMs(Gaussian Mixture Models)ã‚’ç”¨ã„ãŸãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆã™ã‚‹</h3>
    <p>ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã®ã‚ˆã†ã«n_componentsã‚’16ã«è¨­å®šã™ã‚‹ã“ã¨ã§16å€‹ã®æ­£è¦åˆ†å¸ƒã®é‡ã­åˆã‚ã›ã«ã‚ˆã‚‹ãƒ¢ãƒ‡ãƒ«ã‚’å®Ÿç¾ã—ã¦ã„ã‚‹ã€‚</p>
    <div style="position: relative; margin: 1.5rem 0;">
        <button id="copyButton" onclick="copyCode()">ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼</button>
        <pre id="pythonCode"><code>
            gmm = GaussianMixture(n_components=16, random_state=0)
        </code></pre>
    </div>
    <h4>GMMsé©ç”¨æ™‚ã®ã‚¨ãƒ©ãƒ¼ã®å¯¾å‡¦æ³•</h4>
    <p>ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ãŒå‡ºãŸéš›ã¯ã€ãƒ¢ãƒ‡ãƒ«ã®çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ã®è¨ˆç®—ãŒæ­£ã—ãè¡Œã‚ã‚Œã¦ã„ãªã„ã“ã¨ãŒç¤ºå”†ã•ã‚Œã¦ã„ã‚‹ã€‚å¤§æŠµã¯ã€MFCCã®ãƒ‡ãƒ¼ã‚¿ãŒå°ã•ã™ããŸã‚Šã€ä¼¼ã™ãã¦ã„ãŸã‚Šã€ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãŒåƒãã»ã©ã«ãƒ‡ãƒ¼ã‚¿ã«ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ãŒãªã„ã“ã¨ãŒå¤šã„ã€‚<br/>
    ãã®ãŸã‚ã€scikit-learnã‚’ä½¿ç”¨ã—ã¦ã‚³ãƒ¼ãƒ‰ã‚’æ­£è¦åŒ–ã™ã‚‹ã“ã¨ã§è§£æ±ºã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚æ©Ÿæ¢°å­¦ç¿’ã«ãŠã„ã¦ã¯ã€æ­£è¦åŒ–ã‚’å¸¸ã«è¡Œã†ã“ã¨ãŒæ…£ä¾‹ã¨ãªã£ã¦ã„ã‚‹ã€‚</p>
    <div style="position: relative; margin: 1.5rem 0;">
        <button id="copyButton" onclick="copyCode()">ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼</button>
        <pre id="pythonCode"><code>
            ---------------------------------------------------------------------------
            LinAlgError                               Traceback (most recent call last)
            File ~/OneDrive/5years/graduation_research/ainu/venv/lib/python3.12/site-packages/sklearn/mixture/_gaussian_mixture.py:334, in _compute_precision_cholesky(covariances, covariance_type)
                333 try:
            --> 334     cov_chol = linalg.cholesky(covariance, lower=True)
                335 except linalg.LinAlgError:
            
            File ~/OneDrive/5years/graduation_research/ainu/venv/lib/python3.12/site-packages/scipy/_lib/_util.py:1233, in _apply_over_batch.&lt;locals&gt;.decorator.&lt;locals&gt;.wrapper(*args, **kwargs)
               1232 if not any(batch_shapes):
            -> 1233     return f(*arrays, *other_args, **kwargs)
               1235 # Determine broadcasted batch shape
            
            File ~/OneDrive/5years/graduation_research/ainu/venv/lib/python3.12/site-packages/scipy/linalg/_decomp_cholesky.py:106, in cholesky(a, lower, overwrite_a, check_finite)
                 52 """
                 53 Compute the Cholesky decomposition of a matrix.
                 54 
               (...)    104 
                105 """
            --> 106 c, lower = _cholesky(a, lower=lower, overwrite_a=overwrite_a, clean=True,
                107                      check_finite=check_finite)
                108 return c
            
            File ~/OneDrive/5years/graduation_research/ainu/venv/lib/python3.12/site-packages/scipy/linalg/_decomp_cholesky.py:39, in _cholesky(a, lower, overwrite_a, clean, check_finite)
                 38 if info &gt; 0:
            --> 39     raise LinAlgError(
                 40         f"{info}-th leading minor of the array is not positive definite"
                 41     )
                 42 if info &lt; 0:
            
            LinAlgError: 17-th leading minor of the array is not positive definite
            
            During handling of the above exception, another exception occurred:
            
            ValueError                                Traceback (most recent call last)
            Cell In[8], line 6
                  4 for speaker, features in speaker_features.items():
                  5     gmm = GaussianMixture(n_components=16, random_state=0)
            ----&gt; 6     gmm.fit(features)
                  7     gmm_models[speaker] = gmm
                  8     print(f"Model for {speaker} trained successfully.")
            
            File ~/OneDrive/5years/graduation_research/ainu/venv/lib/python3.12/site-packages/sklearn/mixture/_base.py:182, in BaseMixture.fit(self, X, y)
                156 """Estimate model parameters with the EM algorithm.
                157 
                158 The method fits the model ``n_init`` times and sets the parameters with
               (...)    179     The fitted mixture.
                180 """
                181 # parameters are validated in fit_predict
            --&gt; 182 self.fit_predict(X, y)
                183 return self
            
            File ~/OneDrive/5years/graduation_research/ainu/venv/lib/python3.12/site-packages/sklearn/base.py:1365, in _fit_context.&lt;locals&gt;.decorator.&lt;locals&gt;.wrapper(estimator, *args, **kwargs)
               1358     estimator._validate_params()
               1360 with config_context(
               1361     skip_parameter_validation=(
               1362         prefer_skip_nested_validation or global_skip_validation
               1363     )
               1364 ):
            -&gt; 1365     return fit_method(estimator, *args, **kwargs)
            
            File ~/OneDrive/5years/graduation_research/ainu/venv/lib/python3.12/site-packages/sklearn/mixture/_base.py:251, in BaseMixture.fit_predict(self, X, y)
                248 prev_lower_bound = lower_bound
                250 log_prob_norm, log_resp = self._e_step(X)
            --&gt; 251 self._m_step(X, log_resp)
                252 lower_bound = self._compute_lower_bound(log_resp, log_prob_norm)
                253 current_lower_bounds.append(lower_bound)
            
            File ~/OneDrive/5years/graduation_research/ainu/venv/lib/python3.12/site-packages/sklearn/mixture/_gaussian_mixture.py:834, in GaussianMixture._m_step(self, X, log_resp)
                830 self.weights_, self.means_, self.covariances_ = _estimate_gaussian_parameters(
                831     X, np.exp(log_resp), self.reg_covar, self.covariance_type
                832 )
                833 self.weights_ /= self.weights_.sum()
            --&gt; 834 self.precisions_cholesky_ = _compute_precision_cholesky(
                835     self.covariances_, self.covariance_type
                836 )
            
            File ~/OneDrive/5years/graduation_research/ainu/venv/lib/python3.12/site-packages/sklearn/mixture/_gaussian_mixture.py:336, in _compute_precision_cholesky(covariances, covariance_type)
                334             cov_chol = linalg.cholesky(covariance, lower=True)
                335         except linalg.LinAlgError:
            --&gt; 336             raise ValueError(estimate_precision_error_message)
                337         precisions_chol[k] = linalg.solve_triangular(
                338             cov_chol, np.eye(n_features, dtype=dtype), lower=True
                339         ).T
                340 elif covariance_type == "tied":
            
            ValueError: Fitting the mixture model failed because some components have ill-defined empirical covariance (for instance caused by singleton or collapsed samples). Try to decrease the number of components, increase reg_covar, or scale the input data. The numerical accuracy can also be improved by passing float64 data instead of float32.
            
             (See &lt;attachments&gt; above for file contents. You may not need to search or read the file again.)
        </code></pre>
    </div>

    <p>ä»¥ä¸Šã®ã‚¨ãƒ©ãƒ¼ã‚’ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã§all_featuresã‚’æ­£è¦åŒ–ã—ãŸã€‚</p>
    <div style="position: relative; margin: 1.5rem 0;">
        <button id="copyButton" onclick="copyCode()">ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼</button>
        <pre id="pythonCode"><code>
                from sklearn.preprocessing import StandardScaler
                scaler = StandardScaler()
                scaled_features = scaler.fit_transform(all_features)
        </code></pre>
    </div>

    <p>ã¾ãŸã€ä»¥ä¸‹ã®ã‚ˆã†ã«reg_covarã‚’GaussianMixtureã«è¨­å®šã™ã‚‹ã“ã¨ã§ã€å…±åˆ†æ•£ã‚’æ­£ã®æ­£è¦åŒ–ã™ã‚‹ã®ã§åæŸæ™‚ã«ä¸å®‰å®šã«ãªã‚‹ã“ã¨ã‚’é˜²ãã“ã¨ãŒã§ãã‚‹ã€‚</p>
    <div style="position: relative; margin: 1.5rem 0;">
        <button id="copyButton" onclick="copyCode()">ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼</button>
        <pre id="pythonCode"><code>
                gmm = GaussianMixture(n_components=16, random_state=0, reg_covar=1e-6)
        </code></pre>
    </div>

    <h3>çµæœãŒä¸€æ–¹ã«åã£ãŸéš›ã®å¯¾å‡¦æ³•</h3>
    <p>GMMsã«ã‚ˆã‚‹åˆ†é¡ã®çµæœãŒã€ç‰¹å®šã®å¯¾è±¡ã®ã¿ã«åã£ãŸå ´åˆã€ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚»ã‚¹ãŒåŸå› ã ã¨è€ƒãˆã‚‰ã‚Œã‚‹ã€‚</p>
    <h4>ã‚³ãƒ¼ãƒ‰</h4>
    <div style="position: relative; margin: 1.5rem 0;">
        <button id="copyButton" onclick="copyCode()">ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼</button>
        <pre id="pythonCode"><code>
            def extract_features(file_path):
                try:
                    audio, sample_rate = librosa.load(file_path, sr=16000)
                    mfccs = librosa.feature.mfcc(y=audio, sr=sample_rate, n_mfcc=20)

                    # each row is a time frame and each column is an MFCC coefficient
                    return mfccs.T

                except Exception as e:
                    print(f"Error processing {file_path}: {e}")
                    return None

            all_features = {}
            speaker_features = {}
            #store the scaler for each speaker
            scalers = {}
            for speaker, paths in speaker_paths.items():
                combined_features = []
                print(f"Extracting features for {speaker}...")
                for path in paths:
                    features = extract_features(path)
                    if features is not None:
                        combined_features.append(features)

                all_features[speaker] = np.vstack(combined_features)

                scaler = StandardScaler()
                scaled_features = scaler.fit_transform(all_features[speaker])

                speaker_features[speaker] = scaled_features
                scalers[speaker] = scaler

                print(f"Finished extracting features for {speaker}. Shape: {speaker_features[speaker].shape}")
        </code></pre>
    </div>

    <h4>çµæœ</h4>
    <div style="position: relative; margin: 1.5rem 0;">
        <button id="copyButton" onclick="copyCode()">ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼</button>
        <pre id="pythonCode"><code>
            Extracting features for Speaker1...
            Finished extracting features for Speaker1. Shape: (711208, 20)
            Extracting features for Speaker2...
            Finished extracting features for Speaker2. Shape: (257415, 20)
        </code></pre>
    </div>

    <p>
        ä»¥ä¸Šã®æ§˜ã«Speaker1ã®ãƒ‡ãƒ¼ã‚¿ã®é‡ãŒSpeaker2ã«æ¯”ã¹ã¦3å€ä»¥ä¸Šã§ã‚ã‚‹ã€‚ãã®ãŸã‚æ¯”è¼ƒçš„ã«ã€Speaker1ã®ãƒ‡ãƒ¼ã‚¿ã¯å…¨ä½“ã¨ã—ã¦åŒ…æ‹¬çš„ã«éŸ³éŸ¿ã‚’åˆ†æã—ã€Speaker2ã®ãƒ‡ãƒ¼ã‚¿ã¯ç‰¹å¾´çš„ãªéƒ¨åˆ†ã‚’ä¸­å¿ƒçš„ã«åˆ†æã—ã¦ã—ã¾ã†ã€‚<br/>
        çµæœçš„ã«ã€ãƒ†ã‚¹ãƒˆã®éš›ã«Speaker2ã®éŸ³å£°ã«å¯¾ã—ã¦ã¯ååˆ†ã«æ³¢å½¢ãŒè¿‘ã„ã“ã¨ã‚’æ±‚ã‚ã‚‰ã‚Œã‚‹ãŸã‚åˆ†é¡ã®çµæœãŒSpeaker1ã«åã£ã¦ã—ã¾ã†ã€‚<br/>
        è§£æ±ºæ³•ã¨ã—ã¦ãã‚Œãã‚Œã®ãƒ‡ãƒ¼ã‚¿ã‚’å‡ç­‰ãªé‡ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
    </p>

    <p>
        ãã‚Œã§ã‚‚ãªãŠè§£æ±ºã—ãªã‹ã£ãŸã€‚åŸå› ã¯ãƒ†ã‚¹ãƒˆæ™‚ã«ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’æ­£è¦åŒ–ã™ã‚‹ã®ã‚’å¿˜ã‚Œã¦ã„ãŸãŸã‚ã ã£ãŸã€‚<br/>
        ä»¥ä¸‹ã®ã‚ˆã†ã«scalersã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ä¿®æ­£ã—ãŸã€‚
    </p>

    <h4>ä¿®æ­£å‰</h4>
    <div style="position: relative; margin: 1.5rem 0;">
        <button id="copyButton" onclick="copyCode()">ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼</button>
        <pre id="pythonCode"><code>
            def predict_speaker(file_path, models):
                unknown_features = extract_features(file_path)
                if unknown_features is None:
                    return "Could not process audio."

                scores = {}
                for speaker, gmm in models.items():
                    scores[speaker] = gmm.score(unknown_features)

                predicted_speaker = max(scores, key=scores.get)

                return predicted_speaker, scores[predicted_speaker]
        </code></pre>
    </div>

    <h4>ä¿®æ­£å¾Œ</h4>
    <div style="position: relative; margin: 1.5rem 0;">
        <button id="copyButton" onclick="copyCode()">ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼</button>
        <pre id="pythonCode"><code>
            def predict_speaker(file_path, models, scalers):
                unknown_features = extract_features(file_path)
                if unknown_features is None:
                    return "Could not process audio.", 0

                scores = {}
                for speaker, gmm in models.items():
                    scaler = scalers[speaker]
                    scaled_unknown_features = scaler.transform(unknown_features)

                    scores[speaker] = gmm.score(scaled_unknown_features)

                predicted_speaker = max(scores, key=scores.get)

                return predicted_speaker, scores[predicted_speaker]
        </code></pre>
    </div>

    <h3>çµæœã‚’CSVã§ä¿å­˜ã™ã‚‹ã¨ãã®æ—¥æ™‚ã®æŒ‡å®š</h3>
    <p>
        ã€Œ<a href="https://note.nkmk.me/python-datetime-now-today/">Pythonã§ç¾åœ¨æ™‚åˆ»ãƒ»æ—¥ä»˜ãƒ»æ—¥æ™‚ã‚’å–å¾—</a>ã€ã“ã®ã‚µã‚¤ãƒˆã‚’å‚è€ƒã«ã—ãŸã€‚
    </p>



      <div th:replace="~{fragments/ad :: adBanner}"></div>

    <h2>2025/09/26</h2>
    <h3>Deep Learningã®ãƒ‡ãƒ¼ã‚¿çµ„è¾¼æ™‚ã®RAMã‚¨ãƒ©ãƒ¼ã®å¯¾å‡¦æ³•</h3>
    <p>
        ä»¥ä¸‹ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¨ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚ˆã‚Šã€å­¦ç¿’æ¸ˆã¿ã®ãƒ¢ãƒ‡ãƒ«ã‚’æ‰±ã†éš›ã«è†¨å¤§ãªRAMã‚’æ¶ˆè²»ã—ãŸã“ã¨ãŒåŸå› ã§ã‚ã‚‹ã¨æ¨æ¸¬ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
    </p>

    <h4>ãƒ—ãƒ­ã‚°ãƒ©ãƒ </h4>
    <div style="position: relative; margin: 1.5rem 0;">
        <button id="copyButton" onclick="copyCode()">ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼</button>
        <pre id="pythonCode"><code>
            def get_embedding(file_path, model):
                try:
                    signal, fs = librosa.load(file_path, sr=16000)
                    audio_tensor = torch.from_numpy(signal)

                    embedding = model.encode_batch(audio_tensor)
                    embedding = embedding.squeeze().cpu().numpy()

                    return embedding
                except Exception as e:
                    print(f"Error processing {file_path}: {e}")
                    return None

            speaker_embedding_db = {}

            print("Creating speaker embedding database from training data...")
            for speaker, paths in speaker_paths_train.items():
                embeddings = []
                for path in paths:
                    embedding = get_embedding(path, language_id)
                    if embedding is not None:
                        embeddings.append(embedding)

                if embeddings:
                    speaker_embedding_db[speaker] = np.mean(embeddings, axis=0)
                    print(f"Created avarage embedding for {speaker}.")

            print("/n--- Speaker Embedding Database Complete ---")
        </code></pre>
    </div>

    <h4>app.log</h4>
    <div class="md-table-wrap">
        <table class="md-table">
            <thead>
                <tr>
                    <th>Timestamp</th>
                    <th>Level</th>
                    <th>Message</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>Sep 26, 2025, 11:02:06 AM</td><td>WARNING</td><td>0.00s - Note: Debugging will proceed. Set PYDEVD_DISABLE_FILE_VALIDATION=1 to disable this validation.</td></tr>
                <tr><td>Sep 26, 2025, 11:02:06 AM</td><td>WARNING</td><td>0.00s - to python to disable frozen modules.</td></tr>
                <tr><td>Sep 26, 2025, 11:02:06 AM</td><td>WARNING</td><td>0.00s - make the debugger miss breakpoints. Please pass -Xfrozen_modules=off</td></tr>
                <tr><td>Sep 26, 2025, 11:02:06 AM</td><td>WARNING</td><td>0.00s - Debugger warning: It seems that frozen modules are being used, which may</td></tr>
                <tr><td>Sep 26, 2025, 11:02:05 AM</td><td>WARNING</td><td>kernel 527821a1-c507-43c3-805c-40394db7bda6 restarted</td></tr>
                <tr><td>Sep 26, 2025, 11:02:05 AM</td><td>INFO</td><td>AsyncIOLoopKernelRestarter: restarting kernel (1/5), keep random ports</td></tr>
                <tr><td>Sep 26, 2025, 10:58:54 AM</td><td>WARNING</td><td>0.00s - Note: Debugging will proceed. Set PYDEVD_DISABLE_FILE_VALIDATION=1 to disable this validation.</td></tr>
                <tr><td>Sep 26, 2025, 10:58:54 AM</td><td>WARNING</td><td>0.00s - to python to disable frozen modules.</td></tr>
                <tr><td>Sep 26, 2025, 10:58:54 AM</td><td>WARNING</td><td>0.00s - make the debugger miss breakpoints. Please pass -Xfrozen_modules=off</td></tr>
                <tr><td>Sep 26, 2025, 10:58:54 AM</td><td>WARNING</td><td>0.00s - Debugger warning: It seems that frozen modules are being used, which may</td></tr>
                <tr><td>Sep 26, 2025, 10:58:53 AM</td><td>INFO</td><td>Kernel restarted: 527821a1-c507-43c3-805c-40394db7bda6</td></tr>
                <tr><td>Sep 26, 2025, 10:58:02 AM</td><td>WARNING</td><td>0.00s - Note: Debugging will proceed. Set PYDEVD_DISABLE_FILE_VALIDATION=1 to disable this validation.</td></tr>
                <tr><td>Sep 26, 2025, 10:58:02 AM</td><td>WARNING</td><td>0.00s - to python to disable frozen modules.</td></tr>
                <tr><td>Sep 26, 2025, 10:58:02 AM</td><td>WARNING</td><td>0.00s - make the debugger miss breakpoints. Please pass -Xfrozen_modules=off</td></tr>
                <tr><td>Sep 26, 2025, 10:58:02 AM</td><td>WARNING</td><td>0.00s - Debugger warning: It seems that frozen modules are being used, which may</td></tr>
                <tr><td>Sep 26, 2025, 10:58:01 AM</td><td>WARNING</td><td>kernel 527821a1-c507-43c3-805c-40394db7bda6 restarted</td></tr>
                <tr><td>Sep 26, 2025, 10:58:01 AM</td><td>INFO</td><td>AsyncIOLoopKernelRestarter: restarting kernel (1/5), keep random ports</td></tr>
                <tr><td>Sep 26, 2025, 10:53:05 AM</td><td>WARNING</td><td>0.00s - Note: Debugging will proceed. Set PYDEVD_DISABLE_FILE_VALIDATION=1 to disable this validation.</td></tr>
                <tr><td>Sep 26, 2025, 10:53:05 AM</td><td>WARNING</td><td>0.00s - to python to disable frozen modules.</td></tr>
                <tr><td>Sep 26, 2025, 10:53:05 AM</td><td>WARNING</td><td>0.00s - make the debugger miss breakpoints. Please pass -Xfrozen_modules=off</td></tr>
                <tr><td>Sep 26, 2025, 10:53:05 AM</td><td>WARNING</td><td>0.00s - Debugger warning: It seems that frozen modules are being used, which may</td></tr>
                <tr><td>Sep 26, 2025, 10:53:04 AM</td><td>WARNING</td><td>kernel 527821a1-c507-43c3-805c-40394db7bda6 restarted</td></tr>
                <tr><td>Sep 26, 2025, 10:53:04 AM</td><td>INFO</td><td>AsyncIOLoopKernelRestarter: restarting kernel (1/5), keep random ports</td></tr>
                <tr><td>Sep 26, 2025, 10:48:47 AM</td><td>INFO</td><td>Connecting to kernel 527821a1-c507-43c3-805c-40394db7bda6.</td></tr>
                <tr><td>Sep 26, 2025, 10:48:46 AM</td><td>WARNING</td><td>0.00s - Note: Debugging will proceed. Set PYDEVD_DISABLE_FILE_VALIDATION=1 to disable this validation.</td></tr>
                <tr><td>Sep 26, 2025, 10:48:46 AM</td><td>WARNING</td><td>0.00s - to python to disable frozen modules.</td></tr>
                <tr><td>Sep 26, 2025, 10:48:46 AM</td><td>WARNING</td><td>0.00s - make the debugger miss breakpoints. Please pass -Xfrozen_modules=off</td></tr>
                <tr><td>Sep 26, 2025, 10:48:46 AM</td><td>WARNING</td><td>0.00s - Debugger warning: It seems that frozen modules are being used, which may</td></tr>
                <tr><td>Sep 26, 2025, 10:48:46 AM</td><td>INFO</td><td>Kernel started: 527821a1-c507-43c3-805c-40394db7bda6</td></tr>
                <tr><td>Sep 26, 2025, 10:48:46 AM</td><td>WARNING</td><td>validate_schema(_schema)</td></tr>
                <tr><td>Sep 26, 2025, 10:48:46 AM</td><td>WARNING</td><td>/usr/local/lib/python3.12/dist-packages/jupyter_events/schema.py:68: JupyterEventsVersionWarning: The `version` property of an event schema must be a string. It has been type coerced, but in a future version of this library, it will fail to validate. Please update schema: https://events.jupyter.org/jupyter_server/kernel_actions/v1</td></tr>
                <tr><td>Sep 26, 2025, 10:48:45 AM</td><td>WARNING</td><td>0.00s - Note: Debugging will proceed. Set PYDEVD_DISABLE_FILE_VALIDATION=1 to disable this validation.</td></tr>
                <tr><td>Sep 26, 2025, 10:48:45 AM</td><td>WARNING</td><td>0.00s - to python to disable frozen modules.</td></tr>
                <tr><td>Sep 26, 2025, 10:48:45 AM</td><td>WARNING</td><td>0.00s - make the debugger miss breakpoints. Please pass -Xfrozen_modules=off</td></tr>
                <tr><td>Sep 26, 2025, 10:48:45 AM</td><td>WARNING</td><td>0.00s - Debugger warning: It seems that frozen modules are being used, which may</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>INFO</td><td>Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>INFO</td><td>http://127.0.0.1:9000/</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>INFO</td><td>http://172.28.0.12:9000/</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>INFO</td><td>Jupyter Server 2.14.0 is running at:</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>INFO</td><td>Serving notebooks from local directory: /</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>INFO</td><td>panel.io.jupyter_server_extension</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>INFO</td><td>nbclassic</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>INFO</td><td>jupyterlab_jupytext</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>INFO</td><td>[Jupytext Server Extension] Deriving an AsyncTextFileContentsManager from AsyncLargeFileManager</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>INFO</td><td>jupyter_server_terminals</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>INFO</td><td>ipyparallel</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>INFO</td><td>Loading IPython parallel extension</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>INFO</td><td>google.colab._serverextension</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>INFO</td><td>google.colab server extension initialized.</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>INFO</td><td>google.colab</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>INFO</td><td>notebook_shim</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>WARNING</td><td>Customizing authentication via ServerApp.login_handler_class=&lt;class 'google.colab._login_handler.ColabLoginHandler'&gt; is deprecated in Jupyter Server 2.0. Use ServerApp.identity_provider_class. Falling back on legacy authentication.</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>INFO</td><td>panel.io.jupyter_server_extension</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>INFO</td><td>notebook_shim</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>WARNING</td><td>/root/.jupyter/jupyter_notebook_config.json</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>WARNING</td><td>/root/.local/etc/jupyter/jupyter_notebook_config.json</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>WARNING</td><td>/usr/etc/jupyter/jupyter_notebook_config.json</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>WARNING</td><td>/usr/local/etc/jupyter/jupyter_notebook_config.json</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>WARNING</td><td>/usr/local/etc/jupyter/jupyter_notebook_config.d/panel-client-jupyter.json</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>WARNING</td><td>/usr/local/etc/jupyter/jupyter_notebook_config.d/jupytext.json</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>WARNING</td><td>/usr/local/etc/jupyter/jupyter_notebook_config.d/ipyparallel.json</td></tr>
                <tr><td>Sep 26, 2025, 10:45:02 AM</td><td>WARNING</td><td>/etc/jupyter/jupyter_notebook_config.json</td></tr>
                <tr><td>Sep 26, 2025, 10:44:59 AM</td><td>WARNING</td><td>validate_schema(_schema)</td></tr>
                <tr><td>Sep 26, 2025, 10:44:59 AM</td><td>WARNING</td><td>/usr/local/lib/python3.12/dist-packages/jupyter_events/schema.py:68: JupyterEventsVersionWarning: The `version` property of an event schema must be a string. It has been type coerced, but in a future version of this library, it will fail to validate. Please update schema: https://events.jupyter.org/jupyter_server/gateway_client/v1</td></tr>
                <tr><td>Sep 26, 2025, 10:44:59 AM</td><td>WARNING</td><td>validate_schema(_schema)</td></tr>
                <tr><td>Sep 26, 2025, 10:44:59 AM</td><td>WARNING</td><td>/usr/local/lib/python3.12/dist-packages/jupyter_events/schema.py:68: JupyterEventsVersionWarning: The `version` property of an event schema must be a string. It has been type coerced, but in a future version of this library, it will fail to validate. Please update schema: https://events.jupyter.org/jupyter_server/contents_service/v1</td></tr>
                <tr><td>Sep 26, 2025, 10:44:59 AM</td><td>WARNING</td><td>/root/.jupyter/jupyter_server_config.json</td></tr>
                <tr><td>Sep 26, 2025, 10:44:59 AM</td><td>WARNING</td><td>/root/.local/etc/jupyter/jupyter_server_config.json</td></tr>
                <tr><td>Sep 26, 2025, 10:44:59 AM</td><td>WARNING</td><td>/usr/etc/jupyter/jupyter_server_config.json</td></tr>
                <tr><td>Sep 26, 2025, 10:44:59 AM</td><td>WARNING</td><td>/usr/local/etc/jupyter/jupyter_server_config.d/nbclassic.json</td></tr>
                <tr><td>Sep 26, 2025, 10:44:59 AM</td><td>WARNING</td><td>/usr/local/etc/jupyter/jupyter_server_config.d/google.colab.json</td></tr>
                <tr><td>Sep 26, 2025, 10:44:59 AM</td><td>WARNING</td><td>/usr/local/etc/jupyter/jupyter_server_config.json</td></tr>
                <tr><td>Sep 26, 2025, 10:44:59 AM</td><td>WARNING</td><td>/usr/local/etc/jupyter/jupyter_server_config.d/panel-client-jupyter.json</td></tr>
                <tr><td>Sep 26, 2025, 10:44:59 AM</td><td>WARNING</td><td>/usr/local/etc/jupyter/jupyter_server_config.d/notebook_shim.json</td></tr>
                <tr><td>Sep 26, 2025, 10:44:59 AM</td><td>WARNING</td><td>/usr/local/etc/jupyter/jupyter_server_config.d/nbclassic.json</td></tr>
                <tr><td>Sep 26, 2025, 10:44:59 AM</td><td>WARNING</td><td>/usr/local/etc/jupyter/jupyter_server_config.d/jupytext.json</td></tr>
                <tr><td>Sep 26, 2025, 10:44:59 AM</td><td>WARNING</td><td>/usr/local/etc/jupyter/jupyter_server_config.d/jupyter_server_terminals.json</td></tr>
                <tr><td>Sep 26, 2025, 10:44:59 AM</td><td>WARNING</td><td>/usr/local/etc/jupyter/jupyter_server_config.d/ipyparallel.json</td></tr>
                <tr><td>Sep 26, 2025, 10:44:59 AM</td><td>WARNING</td><td>/usr/local/etc/jupyter/jupyter_server_config.d/google.colab._serverextension.json</td></tr>
                <tr><td>Sep 26, 2025, 10:44:59 AM</td><td>WARNING</td><td>/etc/jupyter/jupyter_server_config.json</td></tr>
                <tr><td>Sep 26, 2025, 10:44:59 AM</td><td>WARNING</td><td>ServerApp.iopub_data_rate_limit config is deprecated in 2.0. Use ZMQChannelsWebsocketConnection.iopub_data_rate_limit.</td></tr>
                <tr><td>Sep 26, 2025, 10:44:59 AM</td><td>WARNING</td><td>[W 2025-09-26 01:44:59.341 ServerApp] ServerApp.token config is deprecated in 2.0. Use IdentityProvider.token.</td></tr>
                <tr><td>Sep 26, 2025, 10:44:59 AM</td><td>WARNING</td><td>warn(</td></tr>
            </tbody>
        </table>
    </div>
    <div style="position: relative; margin: 1.5rem 0;">
        <button id="copyButton" onclick="copyCode()">ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼</button>
        <pre id="pythonCode"><code>
            |Timestamp|Level|Message|
            |---|---|---|
            |Sep 26, 2025, 11:02:06â€¯AM|WARNING|0\.00s - Note: Debugging will proceed\. Set PYDEVD\_DISABLE\_FILE\_VALIDATION=1 to disable this validation\.|
            |Sep 26, 2025, 11:02:06â€¯AM|WARNING|0\.00s - to python to disable frozen modules\.|
            |Sep 26, 2025, 11:02:06â€¯AM|WARNING|0\.00s - make the debugger miss breakpoints\. Please pass -Xfrozen\_modules=off|
            |Sep 26, 2025, 11:02:06â€¯AM|WARNING|0\.00s - Debugger warning: It seems that frozen modules are being used, which may|
            |Sep 26, 2025, 11:02:05â€¯AM|WARNING|kernel 527821a1-c507-43c3-805c-40394db7bda6 restarted|
            |Sep 26, 2025, 11:02:05â€¯AM|INFO|AsyncIOLoopKernelRestarter: restarting kernel \(1/5\), keep random ports|
            |Sep 26, 2025, 10:58:54â€¯AM|WARNING|0\.00s - Note: Debugging will proceed\. Set PYDEVD\_DISABLE\_FILE\_VALIDATION=1 to disable this validation\.|
            |Sep 26, 2025, 10:58:54â€¯AM|WARNING|0\.00s - to python to disable frozen modules\.|
            |Sep 26, 2025, 10:58:54â€¯AM|WARNING|0\.00s - make the debugger miss breakpoints\. Please pass -Xfrozen\_modules=off|
            |Sep 26, 2025, 10:58:54â€¯AM|WARNING|0\.00s - Debugger warning: It seems that frozen modules are being used, which may|
            |Sep 26, 2025, 10:58:53â€¯AM|INFO|Kernel restarted: 527821a1-c507-43c3-805c-40394db7bda6|
            |Sep 26, 2025, 10:58:02â€¯AM|WARNING|0\.00s - Note: Debugging will proceed\. Set PYDEVD\_DISABLE\_FILE\_VALIDATION=1 to disable this validation\.|
            |Sep 26, 2025, 10:58:02â€¯AM|WARNING|0\.00s - to python to disable frozen modules\.|
            |Sep 26, 2025, 10:58:02â€¯AM|WARNING|0\.00s - make the debugger miss breakpoints\. Please pass -Xfrozen\_modules=off|
            |Sep 26, 2025, 10:58:02â€¯AM|WARNING|0\.00s - Debugger warning: It seems that frozen modules are being used, which may|
            |Sep 26, 2025, 10:58:01â€¯AM|WARNING|kernel 527821a1-c507-43c3-805c-40394db7bda6 restarted|
            |Sep 26, 2025, 10:58:01â€¯AM|INFO|AsyncIOLoopKernelRestarter: restarting kernel \(1/5\), keep random ports|
            |Sep 26, 2025, 10:53:05â€¯AM|WARNING|0\.00s - Note: Debugging will proceed\. Set PYDEVD\_DISABLE\_FILE\_VALIDATION=1 to disable this validation\.|
            |Sep 26, 2025, 10:53:05â€¯AM|WARNING|0\.00s - to python to disable frozen modules\.|
            |Sep 26, 2025, 10:53:05â€¯AM|WARNING|0\.00s - make the debugger miss breakpoints\. Please pass -Xfrozen\_modules=off|
            |Sep 26, 2025, 10:53:05â€¯AM|WARNING|0\.00s - Debugger warning: It seems that frozen modules are being used, which may|
            |Sep 26, 2025, 10:53:04â€¯AM|WARNING|kernel 527821a1-c507-43c3-805c-40394db7bda6 restarted|
            |Sep 26, 2025, 10:53:04â€¯AM|INFO|AsyncIOLoopKernelRestarter: restarting kernel \(1/5\), keep random ports|
            |Sep 26, 2025, 10:48:47â€¯AM|INFO|Connecting to kernel 527821a1-c507-43c3-805c-40394db7bda6\.|
            |Sep 26, 2025, 10:48:46â€¯AM|WARNING|0\.00s - Note: Debugging will proceed\. Set PYDEVD\_DISABLE\_FILE\_VALIDATION=1 to disable this validation\.|
            |Sep 26, 2025, 10:48:46â€¯AM|WARNING|0\.00s - to python to disable frozen modules\.|
            |Sep 26, 2025, 10:48:46â€¯AM|WARNING|0\.00s - make the debugger miss breakpoints\. Please pass -Xfrozen\_modules=off|
            |Sep 26, 2025, 10:48:46â€¯AM|WARNING|0\.00s - Debugger warning: It seems that frozen modules are being used, which may|
            |Sep 26, 2025, 10:48:46â€¯AM|INFO|Kernel started: 527821a1-c507-43c3-805c-40394db7bda6|
            |Sep 26, 2025, 10:48:46â€¯AM|WARNING|  validate\_schema\(\_schema\)|
            |Sep 26, 2025, 10:48:46â€¯AM|WARNING|/usr/local/lib/python3\.12/dist-packages/jupyter\_events/schema\.py:68: JupyterEventsVersionWarning: The `version` property of an event schema must be a string\. It has been type coerced, but in a future version of this library, it will fail to validate\. Please update schema: https://events\.jupyter\.org/jupyter\_server/kernel\_actions/v1|
            |Sep 26, 2025, 10:48:45â€¯AM|WARNING|0\.00s - Note: Debugging will proceed\. Set PYDEVD\_DISABLE\_FILE\_VALIDATION=1 to disable this validation\.|
            |Sep 26, 2025, 10:48:45â€¯AM|WARNING|0\.00s - to python to disable frozen modules\.|
            |Sep 26, 2025, 10:48:45â€¯AM|WARNING|0\.00s - make the debugger miss breakpoints\. Please pass -Xfrozen\_modules=off|
            |Sep 26, 2025, 10:48:45â€¯AM|WARNING|0\.00s - Debugger warning: It seems that frozen modules are being used, which may|
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|Use Control-C to stop this server and shut down all kernels \(twice to skip confirmation\)\.|
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|    http://127\.0\.0\.1:9000/|
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|http://172\.28\.0\.12:9000/|
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|Jupyter Server 2\.14\.0 is running at:|
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|Serving notebooks from local directory: /|
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|panel\.io\.jupyter\_server\_extension |
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|nbclassic |
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|jupyterlab\_jupytext |
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|\[Jupytext Server Extension\] Deriving an AsyncTextFileContentsManager from AsyncLargeFileManager|
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|jupyter\_server\_terminals |
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|ipyparallel |
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|Loading IPython parallel extension|
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|google\.colab\._serverextension |
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|google\.colab server extension initialized\.|
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|google\.colab |
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|notebook\_shim |
            |Sep 26, 2025, 10:45:02â€¯AM|WARNING|Customizing authentication via ServerApp\.login\_handler\_class=\<class 'google\.colab\._login\_handler.ColabLoginHandler'\> is deprecated in Jupyter Server 2\.0\. Use ServerApp\.identity\_provider\_class\. Falling back on legacy authentication.|
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|panel\.io\.jupyter\_server\_extension |
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|notebook\_shim |
            |Sep 26, 2025, 10:45:02â€¯AM|WARNING|    \t/root/\.jupyter/jupyter\_notebook\_config\.json|
            |Sep 26, 2025, 10:45:02â€¯AM|WARNING|    \t/root/\.local/etc/jupyter/jupyter\_notebook\_config\.json|
            |Sep 26, 2025, 10:45:02â€¯AM|WARNING|    \t/usr/etc/jupyter/jupyter\_notebook\_config\.json|
            |Sep 26, 2025, 10:45:02â€¯AM|WARNING|    \t/usr/local/etc/jupyter/jupyter\_notebook\_config\.json|
            |Sep 26, 2025, 10:45:02â€¯AM|WARNING|    \t/usr/local/etc/jupyter/jupyter\_notebook\_config\.d/panel-client-jupyter\.json|
            |Sep 26, 2025, 10:45:02â€¯AM|WARNING|    \t/usr/local/etc/jupyter/jupyter\_notebook\_config\.d/jupytext\.json|
            |Sep 26, 2025, 10:45:02â€¯AM|WARNING|    \t/usr/local/etc/jupyter/jupyter\_notebook\_config\.d/ipyparallel\.json|
            |Sep 26, 2025, 10:45:02â€¯AM|WARNING|    \t/etc/jupyter/jupyter\_notebook\_config\.json|
            |Sep 26, 2025, 10:45:02â€¯AM|WARNING|    \t/root/\.jupyter/jupyter\_notebook\_config\.json|
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|Writing Jupyter server cookie secret to /root/\.local/share/jupyter/runtime/jupyter\_cookie\_secret|
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|nbclassic |
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|jupyterlab\_jupytext |
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|jupyter\_server\_terminals |
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|ipyparallel |
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|google\.colab\._serverextension |
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|google\.colab |
            |Sep 26, 2025, 10:45:02â€¯AM|INFO|Extension package panel\.io\.jupyter\_server\_extension took 1\.8744s to import|
            |Sep 26, 2025, 10:45:00â€¯AM|WARNING|A `\_jupyter\_server\_extension\_points` function was not found in nbclassic\. Instead, a `\_jupyter\_server\_extension\_paths` function was found and will be used for now\. This function name will be deprecated in future releases of Jupyter Server.|
            |Sep 26, 2025, 10:45:00â€¯AM|INFO|Extension package jupyterlab\_jupytext took 0\.1630s to import|
            |Sep 26, 2025, 10:45:00â€¯AM|WARNING|A `\_jupyter\_server\_extension\_points` function was not found in ipyparallel\. Instead, a `\_jupyter\_server\_extension\_paths` function was found and will be used for now\. This function name will be deprecated in future releases of Jupyter Server.|
            |Sep 26, 2025, 10:45:00â€¯AM|INFO|Extension package ipyparallel took 0\.2001s to import|
            |Sep 26, 2025, 10:44:59â€¯AM|WARNING|  validate\_schema\(\_schema\)|
            |Sep 26, 2025, 10:44:59â€¯AM|WARNING|/usr/local/lib/python3\.12/dist-packages/jupyter\_events/schema\.py:68: JupyterEventsVersionWarning: The `version` property of an event schema must be a string\. It has been type coerced, but in a future version of this library, it will fail to validate\. Please update schema: https://events\.jupyter\.org/jupyter\_server/gateway\_client/v1|
            |Sep 26, 2025, 10:44:59â€¯AM|WARNING|  validate\_schema\(\_schema\)|
            |Sep 26, 2025, 10:44:59â€¯AM|WARNING|/usr/local/lib/python3\.12/dist-packages/jupyter\_events/schema\.py:68: JupyterEventsVersionWarning: The `version` property of an event schema must be a string\. It has been type coerced, but in a future version of this library, it will fail to validate\. Please update schema: https://events\.jupyter\.org/jupyter\_server/contents\_service/v1|
            |Sep 26, 2025, 10:44:59â€¯AM|WARNING|    \t/root/\.jupyter/jupyter\_server\_config\.json|
            |Sep 26, 2025, 10:44:59â€¯AM|WARNING|    \t/root/\.local/etc/jupyter/jupyter\_server\_config\.json|
            |Sep 26, 2025, 10:44:59â€¯AM|WARNING|    \t/usr/etc/jupyter/jupyter\_server\_config\.json|
            |Sep 26, 2025, 10:44:59â€¯AM|WARNING|    \t/usr/local/etc/jupyter/jupyter\_server\_config\.d/nbclassic\.json|
            |Sep 26, 2025, 10:44:59â€¯AM|WARNING|    \t/usr/local/etc/jupyter/jupyter\_server\_config\.d/google\.colab\.json|
            |Sep 26, 2025, 10:44:59â€¯AM|WARNING|    \t/usr/local/etc/jupyter/jupyter\_server\_config\.d/panel-client-jupyter\.json|
            |Sep 26, 2025, 10:44:59â€¯AM|WARNING|    \t/usr/local/etc/jupyter/jupyter\_server\_config\.d/notebook\_shim\.json|
            |Sep 26, 2025, 10:44:59â€¯AM|WARNING|    \t/usr/local/etc/jupyter/jupyter\_server\_config\.d/nbclassic\.json|
            |Sep 26, 2025, 10:44:59â€¯AM|WARNING|    \t/usr/local/etc/jupyter/jupyter\_server\_config\.d/jupytext\.json|
            |Sep 26, 2025, 10:44:59â€¯AM|WARNING|    \t/usr/local/etc/jupyter/jupyter\_server\_config\.d/jupyter\_server\_terminals\.json|
            |Sep 26, 2025, 10:44:59â€¯AM|WARNING|    \t/usr/local/etc/jupyter/jupyter\_server\_config\.d/ipyparallel\.json|
            |Sep 26, 2025, 10:44:59â€¯AM|WARNING|    \t/usr/local/etc/jupyter/jupyter\_server\_config\.d/google\.colab\._serverextension\.json|
            |Sep 26, 2025, 10:44:59â€¯AM|WARNING|    \t/etc/jupyter/jupyter\_server\_config\.json|
            |Sep 26, 2025, 10:44:59â€¯AM|WARNING|ServerApp\.iopub\_data\_rate\_limit config is deprecated in 2\.0\. Use ZMQChannelsWebsocketConnection\.iopub\_data\_rate\_limit.|
            |Sep 26, 2025, 10:44:59â€¯AM|WARNING|\[W 2025-09-26 01:44:59\.341 ServerApp\] ServerApp\.token config is deprecated in 2\.0\. Use IdentityProvider\.token.|
            |Sep 26, 2025, 10:44:59â€¯AM|WARNING|  warn\(|
        </code></pre>
    </div>
    <p>
        ã“ã®çŠ¶æ…‹ã§ã¯ä¸€å›ã«èª­ã¿è¾¼ã‚€éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ•°åˆ†ã§ã‚ã‚Šé•·ã„ãŸã‚ãƒ¡ãƒ¢ãƒªã‚’ä½™åˆ†ã«ä½¿ã£ã¦ã—ã¾ã†ã€‚
        ãã®ãŸã‚ã€ä»¥ä¸‹ã®ã‚ˆã†ã«éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç´°ã‹ãåˆ†ã‘ã¦çµ„ã¿è¾¼ã¿ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ã¨ã—ãŸã€‚
    </p>

      <div th:replace="~{fragments/ad :: adBanner}"></div>

    <!-- å‹•çš„ãƒ•ãƒƒã‚¿ãƒ¼ -->
    <footer style="margin-top: 3rem; padding-top: 1rem; border-top: 1px solid #ddd; text-align: center; color: #666;">
        <p>&copy; <span th:text="${currentYear}">2025</span> éŸ³å£°ç ”ç©¶ãƒãƒ¼ãƒˆ - æœ€çµ‚æ›´æ–°: <span th:text="${#dates.format(lastUpdated, 'yyyyå¹´MMæœˆddæ—¥ HH:mm')}">å‹•çš„</span></p>
    </footer>

</body>
</html>